(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{40:function(e,t,a){e.exports=a(85)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),o=a.n(s),i=(a(45),a(1)),c=a(2),l=a(4),u=a(3),m=(a(46),a(47),a(48),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){for(var e=this,t=this.props.setCurrentLetter,a=[],n=function(n){a.push(r.a.createElement("div",{className:"letter "+(e.props.readOnly?"":"letterH"),key:n,onClick:e.props.readOnly?null:function(){return t(String.fromCharCode("a".charCodeAt(0)+n))}},String.fromCharCode("a".charCodeAt(0)+n)))},s=0;s<26;s++)n(s);return r.a.createElement("div",{className:"keyboard"},a)}}]),a}(n.Component)),p=(a(49),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){for(var e=[],t=this.props,a=t.currentWord,n=t.currentLetter,s=0;s<a.length;s++)e.push(r.a.createElement("div",{className:"wordLetter",style:{color:s>=n?"transparent":"",transform:n===s?"scale(1.2)":""},key:s},a[s]));return r.a.createElement("div",{className:"wordDisplayer"},e)}}]),a}(n.Component)),h=r.a.createContext(),d=h.Provider,f=(h.Consumer,h),v=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setCurrentLetter=function(e){var t=n.props,a=(t.setPlayerInfo,t.player,t.currentLetter);n.context.emit("clientLetterPressed",{currentLetter:a,letter:e})},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"pendu"},r.a.createElement("div",{className:"player"},"player : ",this.props.player.name),r.a.createElement("div",{className:"score"},"score: ",this.props.score),r.a.createElement(p,{currentWord:this.props.question.word?this.props.question.word:"",currentLetter:this.props.currentLetter}),r.a.createElement(m,{setCurrentLetter:this.setCurrentLetter.bind(this),readOnly:this.props.readOnly}),r.a.createElement("div",{className:"questionDesc"},this.props.question.desc))}}]),a}(n.Component);v.contextType=f;var y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleFormSubmit=function(e){var t=n.context;e.preventDefault();var a=n.state.formWord,r=n.state.formDesc;""!==a&&""!==r&&(t.emit("clientSendQuestion",{word:a,desc:r}),n.setState({showForm:!1}))},n.state={playerDown:{name:n.props.player.username},playerTop:{name:n.props.ennemy},players:[],pause:!1,showForm:!1,formWord:"",formDesc:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.context;t.emit("readyToStartTheGame",(function(){console.log("readyToStartTheGame...")})),t.on("serverGetQuestion",(function(){console.log("serverGetQuestion........."),e.setState({showForm:!0})})),t.on("serverSendQuestion",(function(t){e.setState({players:t}),console.log("question recieved",t)})),t.on("playersUpdate",(function(t){e.setState({players:t}),console.log("players data updated",t)})),t.on("goOut",(function(){window.location.replace("/"),alert("your oponent has disconnected!")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.playerDown,n=t.playerTop;return r.a.createElement("div",{className:"game"},r.a.createElement(v,{player:n,question:this.state.players[this.props.player.number-1===0?1:0]?this.state.players[this.props.player.number-1===0?1:0].question:{word:"",desc:""},readOnly:!0,currentLetter:this.state.players[this.props.player.number-1===0?1:0]?this.state.players[this.props.player.number-1===0?1:0].currentLetter:0,score:this.state.players[this.props.player.number-1===0?1:0]?this.state.players[this.props.player.number-1===0?1:0].score:0}),r.a.createElement(v,{player:a,question:this.state.players[this.props.player.number-1]?this.state.players[this.props.player.number-1].question:{word:"",desc:""},currentLetter:this.state.players[this.props.player.number-1]?this.state.players[this.props.player.number-1].currentLetter:0,score:this.state.players[this.props.player.number-1]?this.state.players[this.props.player.number-1].score:0}),this.state.showForm&&r.a.createElement("form",{className:"gameForm",onSubmit:this.handleFormSubmit.bind(this)},r.a.createElement("h4",{style:{color:"white",marginBottom:"5px"}},"challenge your openent!"),r.a.createElement("input",{type:"text",placeholder:"word",value:this.state.formWord,onChange:function(t){return e.setState({formWord:t.target.value})}}),r.a.createElement("textarea",{type:"text",placeholder:"description",value:this.state.formDesc,onChange:function(t){return e.setState({formDesc:t.target.value})}}),r.a.createElement("button",null,"button")))}}]),a}(n.Component);y.contextType=f;a(50),a(51);var g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.title;return r.a.createElement("div",{className:"messageBubble"},r.a.createElement("div",{className:"messageTitle"},a),r.a.createElement("div",{className:"".concat(this.props.isMine?"messageContentMine":"messageContent")}," ",t))}}]),a}(n.Component),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){var t=n.context;e.preventDefault();var a=n.state.msgs.slice();a.push({msg:n.state.message,owner:n.props.playerName});var r={msg:n.state.message,owner:n.props.playerName};t.emit("messageClientServer",r),n.setState({message:"",msgs:a})},n.state={msgs:[],message:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.context.on("messageServerClient",(function(t){console.log(t);var a=e.state.msgs.slice();a.push({msg:t.msg,owner:t.owner}),e.setState({msgs:a})}))}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.msgs.length;a++)t.push(r.a.createElement(g,{title:this.state.msgs[a].owner,msg:this.state.msgs[a].msg,isMine:this.props.playerName===this.state.msgs[a].owner}));return r.a.createElement("div",{className:"chatBox"},r.a.createElement("div",{className:"username"},this.props.playerName),r.a.createElement("div",{className:"messageBox",readOnly:!0},t),r.a.createElement("form",{className:"chatBoxSendMsg",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("input",{type:"text",placeholder:"write a message...",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),r.a.createElement("button",{type:"submit",className:"chatBoxSendBtn"},"Send")))}}]),a}(n.Component);b.contextType=f;a(52),a(53);var w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).submitHandler=function(e){e.preventDefault();var t=n.context,a=n.state,r=a.username,s=a.room;t.emit("newUser",{username:r,room:s},(function(){console.log("we have a new user:"+r+" in room:"+s)})),t.emit("getRooms",(function(){console.log("get rooms.....")}))},n.state={username:"",room:"room1",rooms:{}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.context;t.emit("getRooms",(function(){console.log("get rooms.....")})),t.on("sendRooms",(function(t){console.log("sendRooms..."),e.setState({rooms:t})})),t.on("error",(function(e){alert(e),window.location.replace("/")})),t.on("startGame",(function(){console.log("start game ......"),(0,e.props.start)()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("form",{className:"loginForm",onSubmit:this.submitHandler.bind(this)},r.a.createElement("h1",{style:{textAlign:"center"}},"Login"),r.a.createElement("label",null,"Username:"),r.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"username",onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("label",null,"Room:"),r.a.createElement("input",{type:"text",placeholder:"room",value:this.state.room,onChange:function(t){return e.setState({room:t.target.value})}}),r.a.createElement("button",{type:"submit",red:this.buttonRef,className:"loginBtn"},"Login")),r.a.createElement("div",{className:"loginRooms"},r.a.createElement("h2",{style:{textAlign:"center"}},"Rooms : users"),r.a.createElement("div",{className:"loginRoomsWrapper"},Object.keys(this.state.rooms).map((function(t){return r.a.createElement("div",{key:t,className:"loginRoom",onClick:function(){return e.setState({room:t})}},r.a.createElement("span",{className:"roomName"},t," : "),e.state.rooms[t].map((function(e){return r.a.createElement("span",{key:t+e,className:"loginUser"},e+","," ")})))})))))}}]),a}(n.Component);w.contextType=f;var E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).savePlayerData=function(e){n.setState({playerData:e}),console.log("player data is saved...")},n.state={start:!1,playerData:{},ennemyName:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.context;t.on("playerData",this.savePlayerData.bind(this)),t.on("playersNames",(function(t){t=t.filter((function(t){return t!=e.state.playerData.username})),e.setState({ennemyName:t[0]})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},this.state.start?r.a.createElement("div",{className:"wrapper1"},r.a.createElement(b,{playerName:this.state.playerData.username}),r.a.createElement(y,{player:this.state.playerData,ennemy:this.state.ennemyName})):r.a.createElement("div",{className:"wrapper2"},r.a.createElement(w,{start:function(){e.setState({start:!0})}})))}}]),a}(n.Component);E.contextType=f;var O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var S=a(39),j=Object(S.io)("http://localhost:5001");j.on("connect",(function(e){console.log(j.id)})),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,{value:j},r.a.createElement(E,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");O?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):N(t,e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.7ff7f56c.chunk.js.map